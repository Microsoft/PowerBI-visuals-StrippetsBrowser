<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Thumbnails Example</title>
    <link rel="stylesheet" href="font-awesome.min.css">
    <link rel="stylesheet" href="thumbnails.css">
    <style type="text/css">
        body {
            margin: 0;
            padding: 0;
        }
    </style>

    <script type="text/javascript" src="uncharted.thumbnails.dependencies.js"></script>
    <script type="text/javascript" src="uncharted.thumbnails.js"></script>
    <script type="text/javascript" src="sampledata.js"></script>
</head>
<body>

<div id="thumbnails-parent" style="top: 0; bottom: 45px; position: absolute; overflow: hidden; z-index: 0">
    <div id="thumbnails-panel" ></div>
</div>
<div id="interactions" style="background: #fff; text-align: center; height: 45px; bottom: 0; position: absolute; z-index: 1">
    <button id="applyFilter" style="font-weight:bold;">APPLY ID ARRAY FILTER</button>
    <button id="applyNewFilter" style="font-weight:bold;">APPLY SINGLE ID FILTER</button>
    <button id="applyFunctionFilter" style="font-weight:bold;">APPLY FUNCTION FILTER</button>
    <button id="applyNullFilter" style="font-weight:bold;">APPLY NULL FILTER</button>
    <button id="highlight" style="font-weight:bold;">HIGHLIGHT</button>
    <button id="highlightSomethingElse" style="font-weight:bold;">HIGHLIGHT SOMETHING ELSE</button>
    <button id="highlightMultiple" style="font-weight:bold;">HIGHLIGHT MULTIPLE</button>
    <button id="unhighlight" style="font-weight:bold;">UNHIGHLIGHT</button>
    <button id="loadmore" style="font-weight:bold;">LOAD MORE</button>
    <button id="toggleDisplayMode" style="font-weight:bold;">TOGGLE DISPLAY MODE</button>
</div>

<script type="text/javascript">
    Uncharted.Thumbnails.asJQueryPlugin();
    $("#thumbnails-panel").thumbnails({
        readerview: {
            onLoadUrl: function(/* readerUrl */) {
                return new Promise(function (resolve) {
                    setTimeout(function () {
                        resolve({
                            title: 'Obama hits Putin, Repub licans in U.N. speech',
                            content: '<div class="zn-body__read-all"><p class="zn-body__paragraph">Putin proposed a global alliance to rebuild the Syrian state and to wage war against ISIS. He also mocked the U.S. failure to deploy moderate opposition fighters in Syria to fight the terror organization, also know as the Islamic State.</p><p class="zn-body__paragraph">"First they are armed and trained, and then they defect to the so-called Islamic State," Putin said. </p><p class="zn-body__paragraph">Speaking generally about Putin\'s remarks, a senior U.S. administration official pointed to Obama\'s own remarks earlier in the day.</p><p class="zn-body__paragraph">"The best response is what the President said about the need to work collectively through -- and not in contravention of --today\'s institutions, including the UN," the official said. "The President\'s remarks laid out in pretty stark terms how our approach differs from what we\'ve seen from Moscow."</p><p class="zn-body__paragraph">Obama is under fire at home as well as from world leaders such as Putin, however, for the slow progress in the fight against ISIS. He also has failed to dislodge Russian fighters entrenched in Eastern Ukraine through the very measures Putin lambasted.</p><p class="zn-body__paragraph">Obama\'s address was in part an effort to shore up international support for U.S. appraoches to these and other global crises. In particular, he advocated for his efforts to utilize diplomacy to end the crises that have cost lives and displaced millions.</p><p class="zn-body__paragraph"><a href="http://edition.cnn.com/2015/09/28/world/united-nations-general-assembly-five-things/index.html?sr=cnnitw">READ: 5 things to watch at the U.N. General Assembly this week</a></p><p class="zn-body__paragraph">"We, the nations of the world, cannot return to the old ways of conflict and coercion. We cannot look backwards," he said. "We live in an integrated world, one in which we all have a stake in each other\'s success. We cannot turn back those forces of integration."</p><p class="zn-body__paragraph">Diplomatic wins -- including the Iran nuclear deal and a thaw in U.S.-Cuba ties -- have given Obama a boost. But a year after he announced his plan for airstrikes to combat ISIS terrorists, the President has faced pressure to explain the next steps in the unraveling situation in Syria.</p><p class="zn-body__paragraph">Calling Assad a tyrant, Obama criticized calls from other world leaders, namely Putin, to keep him in power.</p><p class="zn-body__paragraph">"We\'re told that such retrenchment is required to beat back disorder -- that it\'s the only way to stamp out terrorism and prevent foreign meddling," Obama said. "In accordance with this logic, we should support tyrants like Bashar al-Assad who drops barrel bombs to massacre innocent children because the alternative is surely worse."</p><p class="zn-body__paragraph">Obama made another call for a "managed transition" away from Assad\'s government as a way to end the country\'s bloody civil war.</p><p class="zn-body__paragraph">"When a dictator slaughters tens of thousands of his own people, that is not just a matter of one nation\'s internal affairs," he said. "It breeds human suffering on an order of magnitude that affects us all."</p><p class="zn-body__paragraph">And Obama similarly appealed for adherence to international rules while addressing Ukraine, insisting the world has a responsibility to counter Putin\'s aggression in the eastern part of the country.</p><p class="zn-body__paragraph">"We cannot stand by when the sovereignty and territorial integrity of a nation is flagrantly violated," Obama stated in his speech. "If that happens without consequence in Ukraine, it could happen to any nation gathered here today."</p><p class="zn-body__paragraph">Syria, along with the crisis in Ukraine, will provide the agenda for Obama\'s most anticipated meeting of his three-day U.N. visit: Monday evening talks with Putin, the first time the pair have engaged in substantive face-to-face discussion since Russia annexed part of Ukraine in 2014.</p><p class="zn-body__paragraph">Obama\'s aides say the situation in Ukraine is at the top of the agenda, though the Kremlin indicated last week the situation there would only arise if there\'s time.</p><p class="zn-body__paragraph">"There will be time," asserted White House Press Secretary Josh Earnest last week.</p><p class="zn-body__paragraph">Aside from Ukraine, the White House says Obama will seek to gain clarity on the motivations behind Russia\'s recent military build-up in Syria, which U.S. officials have said is unclear.</p><p class="zn-body__paragraph">Obama weighed for weeks whether to meet with Putin, who is attending the U.N. General Assembly for the first time in years. Ultimately, he determined "it would be irresponsible to not have a face-to-face encounter and to not directly address with President Putin our positions and concerns on these two issues," according to Deputy National Security Adviser Ben Rhodes.</p><p class="zn-body__paragraph">That same commitment to diplomacy also underscored Obama\'s defense of his Iran deal, which he said Monday was the best way to prevent Tehran from obtaining a nuclear weapon. He said blustery rhetoric from the country\'s leaders wouldn\'t help its citizens.</p><p class="zn-body__paragraph">"The Iranian people have a proud history, and are filled with extraordinary potential," he said. "But chanting \'Death to America\' does not create jobs, or make Iran more secure."</p><p class="zn-body__paragraph">On Tuesday, Obama will meet with Cuban President Raul Castro to discuss their two countries\' renewed diplomatic ties. With relations formally reinstated, the pair want to begin developing economic plans, including an agreement to allow commercial flights to travel between the U.S. and Cuba.</p><p class="zn-body__paragraph">"I\'m confident that our Congress will inevitably lift an embargo that should not be in place anymore," Obama said Monday, renewing his call on lawmakers to take the final step in renewing economic ties between the two countries. It was one of the few lines that earned him applause from the assembly during his address.</p><p class="zn-body__paragraph">The President will end his U.N. stay convening a summit meant to solidify support for the campaign against ISIS, which continues to control large swaths of Iraq and Syria. Last year, Obama came to the U.N. having just announced a strategy to "degrade and destroy" the terrorists.</p><p class="zn-body__paragraph">This time around, officials say Obama is looking to focus on the various elements that lead young people to the group, which has attracted foreign fighters from the Middle East and Europe.</p><p class="zn-body__paragraph">"The counter-ISIL campaign is going to be measured in years. But what we do have is a significant coalition of countries that are seized with this threat and that are enhancing their capabilities, and that are joining with us in this effort," Rhodes said, noting that Iraq\'s Prime Minister Haider al-Abadi would join the session.</p><div class="el__leafmedia el__leafmedia--raw-html"><a href="https://twitter.com/CNNpolitics" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @CNNpolitics</a> </div></div>',
                            author: 'Kevin Liptak',
                            source: 'source',
                            sourceUrl: 'sourceUrl',
                            figureImgUrl: 'http://i2.cdn.turner.com/cnnnext/dam/assets/150928104501-obama-un-general-assembly-address-russia-ukraine-crimea-00003513-large-169.jpg',
                            figureCaption: 'We want a strong Russia that will work with us',
                            lastupdatedon: 'Sep. 28, 2015',
                        });
                    }, 500);
                });
            },
            onReaderOpened:function(id){
              console.log('Reader Opened Id: ' + id);
            },
            onReaderClosed:function(id){
                console.log('Reader Closed Id: ' + id);
            },
        },
        thumbnail: {
            height: '400px',
            onClicked: function(data){
                console.log('thumbnail clicked id: '+ data.rank);
            }
        },
    });
    var id = 1;
    $("#thumbnails-panel").thumbnails("loaddata", JSON.parse(JSON.stringify(thumbnailsSampleData)).map(function (data) { data.id = id++; return data; }));
    $("#applyFilter").on("click", function() {
        $("#thumbnails-panel").thumbnails("filter", [1, 5, 7]);
    });
    $("#applyNewFilter").on("click", function() {
        $("#thumbnails-panel").thumbnails("filter", 4);
    });
    $("#applyFunctionFilter").on("click", function() {
        $("#thumbnails-panel").thumbnails("filter", function(outline) {
            return outline.rank > 7;
        });
    });
    $("#applyNullFilter").on("click", function() {
        $("#thumbnails-panel").thumbnails("filter", undefined);
    });
    $("#highlight").on("click", function() {
        $("#thumbnails-panel").thumbnails("highlight", {"name":"Washington DC","type":"place"});
    });
    $("#highlightSomethingElse").on("click", function() {
        $("#thumbnails-panel").thumbnails("highlight", {"name":"Donald Trump","type":"person"});
    });
    $("#highlightMultiple").on("click", function() {
        $("#thumbnails-panel").thumbnails("highlight", [{"name":"Washington DC","type":"place"}, {"name":"Donald Trump","type":"person"}]);
    });
    $("#unhighlight").on("click", function() {
        $("#thumbnails-panel").thumbnails("highlight", undefined);
    });
    $("#loadmore").on("click", function() {
        $("#thumbnails-panel").thumbnails("loaddata", JSON.parse(JSON.stringify(thumbnailsSampleData)).map(function (data) { data.id = id++; return data; }), true);
    });
    var inlineDisplayMode = false;
    $("#toggleDisplayMode").on("click", function() {
        inlineDisplayMode = !inlineDisplayMode;
        $("#thumbnails-panel").thumbnails("toggleInlineDisplayMode", inlineDisplayMode);
    });

</script>
</body>
</html>
